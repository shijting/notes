### 简介

MongoDB 基本特性
**面向集合存储**:一个集合你可以理解为类似于 MySQL 中的表，集合中存储了很多文档，一个文档类似于 MySQL 中的一行数据。
**模式自由**:MongoDB 采用无模式结构存储数据，也就是说你不需要预先定义文档必须满足的格式。
**支持分片**:MongoDB 支持分片，并且MongoDB 自动解决了分片的各种问题，包括自动化扩容

所以一般我选用 MongoDB 就是为了两个**优点**:
- **灵活的文档模型**:不同于 MySOL，你不需要预先定义MongoDB 的文档模型，并且可以灵活修改。
- **易于横向扩展**:也就是你可以通过增加 MongoDB 实例来应对流量和数据增长

### 面试点
- 有没有用过 MongoDB?用来解决什么问题?
- 为什么用 MongoDB?用MySQL行不行?
- 解释一下 MongoDB 中集合和文档的关系?
- 如何设计 MongoDB 上的索引?所谓的 ESR 原则。
- 如果数据存储在 MongoDB 上,怎么生成 ID
- MongoDB 是否支持事务?是否支持跨文档事务?是否支持ACID?


#### ESR 原则
ESR 原则是指创建索引的时候,索引列的顺序应该遵循:E(Equal)、S(Sort)、R(Range)。
举例来说，在帖子中，假如查询是按照 author id 查出创作者在一周内(ctime)发布的帖子，并且按照阅读量(read cnt)来排序,那么索引列的顺序应该是:author id,read cnt, ctime。
ESR 可以扩展为:ER、EESR、ESSR、ESRR.....即,只要保持 ESR 的对顺序不变,可以有N个E,也可以有N个 5,也可以有N个R。
基本上，你同样可以参考 ESR 规则来设计 MySOL 的索引。
PS:实践中,R和S在一些场景下换一个顺序,有可能性能更好